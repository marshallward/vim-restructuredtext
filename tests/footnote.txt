Footnote validation testing
---------------------------

This is a basic example from the language spec. [1]_

.. [1] Body elements go here.

----

Multiple spaces may follow the explicit markup start "``..``". [2]_

..   [2] Footnote with extra space.

Tab stops can also follow "``..``". [3]_

..	[3] This footnote follows a tab stop (HT, 0x09)

But at least one space must be used.

.. NOTE: The following is currently incorrectly highlighted as a comment.

..[0]This is not a footnote.

There must also be at least one space after the footnote label delimiters. [4]_

.. NOTE: The following is a comment but is not yet highlighted correctly.

.. [0]This is not a footnote either!

Empty footnotes are not very useful but are permitted. [4]_

.. [4]

----

Auto-numbered footnotes use the ``#`` symbol.  The example below is modified
from the language standard.

[#]_ is a reference to footnote 5, and [#]_ is a reference to footnote 6.

.. [#] This is footnote 5.
.. [#] This is footnote 6.
.. [#] This is footnote 7.

[#]_ is a reference to footnote 7.

----

Footnotes [#]_ can be multiline in the source [#]_ or in the output. [#]_

.. [#] This is a multiline footnote.
   The output will produce a single line whitespace test

.. [#] This is also a multiline footnote.
 Only a single space is needed to denote content within the footnote.

.. [#] This note will have more than one line.

   New lines are denoted by a blank line within the footnote.

----

*Autonumber labels* specify a label explicitly while at the same time
requesting automatic numbering.  The example below is taken from the standard.

If [#note]_ is the first footnote reference, it will show up as "[1]".  We can
refer to it again as [#note]_ and again see "[1]".  We can also refer to it as
note_ (an ordinary internal hyperlink reference).

.. [#note] This is the footnote labeled "note".

----

These are autosymbol [*]_ footnotes. [*]_

.. [*] This is an autosymbol footnote.
.. [*] This is another footnote.

----

Quoting the spec:

  "Inline markup recognition rules may require whitespace in front of the
  footnote reference."

This is not a footnote reference and should not be highlighted.[#]_

[#]_ This is a footnote reference; they can appear at the start of a line.

[#]_But this is not a footnote reference; they must be followed by whitespace
or an end-of-line.

.. [#] Just another footnote...

----

Text blocks may have their own indentation.

   Footnotes must respect the local indentation. [#]_

   .. [#] This note is not terminated until whitespace matches the indentation

      This is part of the note.

   This is not part of the note.

.. [#] A blank line must follow the footnote.
This is an invalid footnote.  This line should be highlighted as an error!
